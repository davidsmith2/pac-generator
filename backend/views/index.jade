doctype html
html
    head
        title #{title}
        link(href='/css/lib/bootstrap/bootstrap.css', rel='stylesheet', type='text/css')
        link(href='/css/index.css', rel='stylesheet', type='text/css')
    body
        .container
            h1 #{title}
            .row
                .col-xs-6
                    #exceptions-region
                    #rules-region
                .col-xs-6
                    #proxies-region
        #modal-region

        script(id='proxies-template', type='text/template')
            | <div class="row"><div class="col-sm-6"><h2 class="mt0">Proxies</h2></div><div class="col-sm-6 text-right"><a class="btn btn-default btn-sm glyphicon glyphicon-plus js-create" href="#"><span class="sr-only">New</span></a></div></div>
            | <table class="table table-bordered table-striped"></table>

        script(id='proxy-template', type='text/template')
            | <td><%= name %></td>
            | <td class="text-center"><a class="btn btn-default btn-sm glyphicon glyphicon-copy" href="#"><span class="sr-only">Copy URL to clipboard</a></td>
            | <td class="text-center"><a class="btn btn-default btn-sm glyphicon glyphicon-download" href="/pac/<%= name.toLowerCase() %>/proxy.pac"><span class="sr-only">Download</span></a></td>
            | <td class="text-center"><a class="btn btn-default btn-sm glyphicon glyphicon-info-sign" href="/proxies/<%= name.toLowerCase() %>"><span class="sr-only">Show details</span></a></td>

        script(id='exceptions-template', type='text/template')
            | <div class="row"><div class="col-sm-6"><h2 class="mt0">Exceptions</h2></div><div class="col-sm-6 text-right"><a class="btn btn-default btn-sm glyphicon glyphicon-plus js-create" href="#"><span class="sr-only">New</span></a></div></div>
            | <table class="table table-bordered table-striped"></table>

        script(id='exception-template', type='text/template')
            | <td><%= host %></td>
            | <td class="text-center"><a class="btn btn-default btn-sm glyphicon glyphicon-edit js-edit" href="#"><span class="sr-only">Edit</span></a></td>
            | <td class="text-center"><a class="btn btn-default btn-sm glyphicon glyphicon-remove js-destroy" href="#"><span class="sr-only">Delete</span></a></td>

        script(id='exception-form-template', type='text/template')
            | <div class="form-group form-group-lg">
            |   <label class="control-label col-sm-2">Host</label>
            |   <div class="col-sm-10">
            |     <input class="form-control" name="host" type="text" value="<% if (host) { %><%= host %><% } %>" />
            |   </div>
            | </div>

        script(id='rules-template', type='text/template')
            | <div class="row"><div class="col-sm-6"><h2 class="mt0">Rules</h2></div><div class="col-sm-6 text-right"><a class="btn btn-default btn-sm glyphicon glyphicon-plus js-create" href="#"><span class="sr-only">New</span></a></div></div>
            | <table class="table table-bordered table-striped"></table>

        script(id='rule-template', type='text/template')
            | <td><%= host %></td>
            | <td class="text-center"><a class="btn btn-default btn-sm glyphicon glyphicon-edit js-edit" href="#"><span class="sr-only">Edit</span></a></td>
            | <td class="text-center"><a class="btn btn-default btn-sm glyphicon glyphicon-remove js-destroy" href="#"><span class="sr-only">Delete</span></a></td>

        script(id='exception-form-template', type='text/template')
            | <div class="form-group form-group-sm">
            |   <label class="control-label col-sm-2">Host</label>
            |   <div class="col-sm-10">
            |     <input class="form-control" name="host" type="text" />
            |   </div>
            | </div>

        script(id='modal-template', type='text/template')
            | <div class="modal-dialog">
            |   <div class="modal-content">
            |     <div class="modal-header">
            |       <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            |       <h4 class="modal-title"><%= title %></h4>
            |     </div>
            |     <div class="modal-body">
            |     </div>
            |     <div class="modal-footer">
            |       <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            |       <button type="button" class="btn btn-primary">Save changes</button>
            |     </div>
            |   </div>
            | </div>

        script(type='text/javascript', src='/js/lib/jquery/jquery.js')
        script(type='text/javascript', src='/js/lib/underscore/underscore.js')
        script(type='text/javascript', src='/js/lib/backbone/backbone.js')
        script(type='text/javascript', src='/js/lib/backbone-relational/backbone-relational.js')
        script(type='text/javascript', src='/js/lib/backbone.babysitter/backbone.babysitter.js')
        script(type='text/javascript', src='/js/lib/backbone.wreqr/backbone.wreqr.js')
        script(type='text/javascript', src='/js/lib/marionette/backbone.marionette.js')
        script(type='text/javascript', src='/js/lib/bootstrap/bootstrap.js')
        script(type='text/javascript', src='/js/index.js')
